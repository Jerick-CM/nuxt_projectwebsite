(window.webpackJsonp=window.webpackJsonp||[]).push([[54],{557:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var o={middleware:"admin",layout:"admin"}},696:function(e,t,n){var content=n(870);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(12).default)("288117b0",content,!0,{sourceMap:!1})},869:function(e,t,n){"use strict";n(696)},870:function(e,t,n){var o=n(11)(!1);o.push([e.i,"ul.clean[data-v-212c8104]{list-style:none!important;list-style-type:none!important}.ck-editor__editable[data-v-212c8104],.ck.ck-content.ck-editor__editable[data-v-212c8104],.ck.ck-content.ck-editor__editable.ck-rounded-corners.ck-editor__editable_inline[data-v-212c8104],.ck.ck-content.ck-editor__editable_inline[data-v-212c8104]{height:350px}",""]),e.exports=o},947:function(e,t,n){"use strict";n.r(t);var o=n(22),r=n(15),l=(n(53),n(23),n(40),n(44),n(321),n(29),n(129),n(32),n(188),n(252),n(557)),c=(n(575),n(186)),d=n(128),m=n(28),f=n.n(m),v=(n(150),{mixins:[c.validationMixin,l.a],head:function(){return{title:"Tags Datatable"}},data:function(){return{headers:[{text:"No",align:"start",sortable:!1,value:"no"},{text:"Name",value:"name"},{text:"Date / Time",value:"created_at"},{text:"Action",value:"id",sortable:!1}],form_content:"",form_title:"",form_publish:"",dialog:!1,dialogDelete:!1,deletedialog:!1,editedIndex:-1,search:"",tabledata:[],tabledata_total:0,loading:!0,options:{},publishselection:[{value:0,text:"No"},{value:1,text:"Yes"}],form_image:"",image:"",image_preview:"",image_name:"",form_username:"",form_name:"",form_email:"",form_is_admin:""}},validations:{form_content:{required:d.required},form_title:{required:d.required},form_publish:{required:d.required}},watch:{options:{handler:function(){this.getDataFromApi()},deep:!0},dialog:function(e){e||this.close()},dialogDelete:function(e){e||this.closeDelete()}},mounted:function(){this.getDataFromApi()},methods:{download:function(){var e=this.url+"/export1";window.location.href=e},handleFileUpload:function(e){var t=this.$refs.file.files[0];this.image_preview=URL.createObjectURL(t);try{this.image_name=this.$refs.file.files[0].name,this.form_image=this.$refs.file.files[0]}catch(e){console.log(e)}},close:function(){var e=this;this.dialog=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))},closeDelete:function(){var e=this;this.dialogDelete=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))},editItem:function(e){this.form_name=this.tabledata[this.tabledata.indexOf(e)].name,this.editedIndex=this.tabledata.indexOf(e),this.dialog=!0},deleteItem:function(e){this.editedIndex=this.tabledata.indexOf(e),this.editedItem=Object.assign({},e),this.dialogDelete=!0},SaveEdited:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$axios.$get("/sanctum/csrf-cookie").then((function(e){}));case 2:f.a.start(),(n=new FormData).append("id",e.tabledata[e.editedIndex].id),n.append("name",e.form_name);try{e.$axios.$post("admin/tags/update",n,{headers:{"Content-Type":"multipart/form-data"}}).then((function(t){e.tabledata[e.editedIndex].name=e.form_name,e.dialog=!1,f.a.done()})).catch((function(e){f.a.done()})).finally((function(){}))}catch(e){}case 7:case"end":return t.stop()}}),t)})))()},deleteItemConfirm:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$axios.$get("/sanctum/csrf-cookie").then((function(e){}));case 2:(n=new FormData).append("id",e.tabledata[e.editedIndex].id);try{e.$axios.$post("admin/tags/delete",n).then((function(e){})).catch((function(e){})).finally((function(){}))}catch(e){}e.tabledata.splice(e.editedIndex,1),e.closeDelete();case 7:case"end":return t.stop()}}),t)})))()},getDataFromApi:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n,r,l,c,d,m;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$axios.$get("/sanctum/csrf-cookie").then((function(e){}));case 2:e.loading=!0,n=e.options,r=n.sortBy,l=n.sortDesc,c=n.page,d=n.itemsPerPage,(m=new FormData).append("sortDesc",l),m.append("sortBy",r),m.append("page",c),m.append("itemsPerPage",d),m.append("search",e.search),e.$axios.$get("/sanctum/csrf-cookie").then((function(e){})),e.$axios.$post("admin/tags/datatable",m).then((function(t){var data=[],n=1;n=1==c?1:(c-1)*d+1;for(var r=0,l=Object.entries(t.data);r<l.length;r++){var m=Object(o.a)(l[r],2),f=(m[0],m[1]);data.push({no:n,name:f.name,id:f.id,created_at:f.created}),n++}e.tabledata=data,e.tabledata_total=t.total,e.loading=!1})).catch((function(t){e.loading=!1})).finally((function(){e.loading=!1}));case 12:case"end":return t.stop()}}),t)})))()}}}),h=(n(869),n(35)),_=n(31),x=n.n(_),k=n(524),w=n(233),y=n(52),D=n(532),I=n(540),$=n(910),C=n(539),V=n(174),T=n(533),O=n(67),j=n(538),F=n(88),R=n(68),S=n(250),component=Object(h.a)(v,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",{staticClass:"grey ligthen-3 pa-0 ma-0",attrs:{fluid:"","min-height":""}},[n("v-sheet",{staticClass:"blue ligthen-3 pa-5 pt-10 pb-10",attrs:{"min-height":""}},[n("v-card",[n("v-dialog",{attrs:{persistent:"",fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition",scrollable:""},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[n("v-card",{attrs:{tile:""}},[n("v-toolbar",{attrs:{flat:"",dark:"",color:"primary","max-height":"50vh"}},[n("v-btn",{attrs:{icon:"",dark:""},on:{click:function(t){e.dialog=!1}}},[n("v-icon",[e._v("mdi-close")])],1),e._v(" "),n("v-toolbar-title",[e._v("Settings")]),e._v(" "),n("v-spacer"),e._v(" "),n("v-toolbar-items",[n("v-btn",{attrs:{dark:"",text:""},on:{click:e.SaveEdited}},[e._v(" Save ")])],1)],1),e._v(" "),n("v-card-text",[n("v-row",[n("v-col",[n("v-text-field",{attrs:{label:"Name"},model:{value:e.form_name,callback:function(t){e.form_name=t},expression:"form_name"}})],1)],1)],1),e._v(" "),n("div",{staticStyle:{flex:"1 1 auto"}})],1)],1),e._v(" "),n("v-card-title",[e._v("\n        Tags Table\n        "),n("v-spacer"),e._v(" "),n("v-spacer"),e._v(" "),n("v-spacer"),e._v(" "),n("v-spacer"),e._v(" "),n("v-spacer"),e._v(" "),n("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},on:{change:e.getDataFromApi},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),e._v(" "),n("v-spacer"),e._v(" "),n("v-btn",{attrs:{color:"info"},on:{click:e.download}},[e._v("Download")])],1),e._v(" "),n("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.tabledata,options:e.options,"server-items-length":e.tabledata_total,loading:e.loading,"footer-props":{"items-per-page-options":[5,10,20,30,40,50]}},on:{"update:options":function(t){e.options=t}},scopedSlots:e._u([{key:"top",fn:function(){return[n("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.dialogDelete,callback:function(t){e.dialogDelete=t},expression:"dialogDelete"}},[n("v-card",[n("v-card-title",{staticClass:"text-h5"},[e._v("Are you sure you want to delete this item?")]),e._v(" "),n("v-card-actions",[n("v-spacer"),e._v(" "),n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.closeDelete}},[e._v("Cancel")]),e._v(" "),n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.deleteItemConfirm}},[e._v("OK")]),e._v(" "),n("v-spacer")],1)],1)],1)]},proxy:!0},{key:"header.id",fn:function(t){var header=t.header;return[e._v("\n          "+e._s(header.text.toUpperCase())+"\n        ")]}},{key:"header.name",fn:function(t){var header=t.header;return[e._v("\n          "+e._s(header.text.toUpperCase())+"\n        ")]}},{key:"item.id",fn:function(t){var o=t.item;return[n("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.editItem(o)}}},[e._v("\n            mdi-pencil\n          ")]),e._v(" "),n("v-icon",{attrs:{small:""},on:{click:function(t){return e.deleteItem(o)}}},[e._v("\n            mdi-delete\n          ")])]}}])})],1)],1)],1)}),[],!1,null,"212c8104",null);t.default=component.exports;x()(component,{Template:n(127).default}),x()(component,{VBtn:k.a,VCard:w.a,VCardActions:y.a,VCardText:y.c,VCardTitle:y.d,VCol:D.a,VContainer:I.a,VDataTable:$.a,VDialog:C.a,VIcon:V.a,VRow:T.a,VSheet:O.a,VSpacer:j.a,VTextField:F.a,VToolbar:R.a,VToolbarItems:S.a,VToolbarTitle:S.b})}}]);